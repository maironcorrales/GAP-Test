@model  Model.Entities.Client
@{
    ViewBag.Title = "Client";
    Layout = "~/Views/Shared/LayoutView.cshtml";
    List<Model.Entities.Client> clients = ViewBag.clients;
}

<h2>Clients</h2>
<div class="row">


    <div class=" col-lg-12">

        @using (Html.BeginForm("AddClient", "Client", FormMethod.Post, new { id = "frm-client" }))
        {
            <div class="form-group">
                <h6>Client first name and last name</h6>
                @Html.TextBoxFor(m => m.full_name, new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.full_name, null, new { @class = "label label-danger" })
            </div>
            <div class="form-group">
                <h6>ID number</h6>
                @Html.TextBoxFor(m => m.identification, new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.identification, null, new { @class = "label label-danger" })
            </div>

            <div class="text-right">
                <button type="submit" class="btn btn-primary">Save</button>
            </div>
        }

    </div>
    <hr />
</div>

<div class="row">

    <div class=" col-lg-12">
        @{if (clients.Count > 0)
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>Policy Name</th>
                            <th>Description</th>
                            
                            <th style="width:100px"></th>
                            <th style="width:100px"></th>
                            <th style="width:100px"></th>
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var m in clients)
                        {
                        <tr>
                            <th>
                                @m.full_name
                            </th>
                            <th>
                                @m.identification
                            </th>
                          
                            <th>
                                <a class="btn btn-xs btn-success btn-block" href="~/Client/AddPolicyToClient/@m.id_client">Add Policy</a>
                            </th>
                            <th>
                                <a class="btn btn-xs btn-primary btn-block" href="~/Client/EditClient/@m.id_client">Editar</a>
                            </th>
                            <th>
                                @Html.ActionLink("Delete", "DeleteClient", "Client", new { m.id_client, m.full_name, m.identification }, new { @class = "btn btn-xs btn-danger btn-block" })
                            </th>
                        </tr>
                        }

                    </tbody>
                </table>

            }
        }

    </div>


</div>
